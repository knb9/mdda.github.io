---
date: 2014-11-09
title: Installing Linux on Acer E11-111 (ES1-111-C3NT)
category: OSS
tags:
- fedora
- linux
- acer
- notebook
layout: post
published: false
---
{% include JB/setup %}


Intel Celeron CPU N2840 @ 2.16GHz


Initial BIOS entry : 
  Power switch 
  First display of "Acer" logo
  Mash F2 repeatedly
  
BIOS-Boot
  Boot:Boot-Bode = <S>UEFI</S> Legacy
  Boot:Boot-Priority-Order = 1. USB HDD : Generic Flash Disk (use F6 to move it, as prompted)
  Main:F12-Boot-Menu = Enabled (Display F12 on boot up)
  
Fedora installer should then boot with USB stick in one of the back slots

However, Fedora Linux didn't boot simply.

Needed to go into Troubleshooter and chose "Boot in simple display mode"

Then installation was as standard.
  Rebooting into Linux brings up non-graphical boot screen (with the blue text-bar along the bottom of the screen.  
  Something must be off with the initial mode-setting.

However, later on 'nomodeset' can be removed from kernel options...
  Don't know at which point it started to work
  And this makes both the Disk-encryption box, and lightdm look much better
  
  And (suddenly) the brightness stuff seemed to work :: 
    Command line: BOOT_IMAGE=/vmlinuz-3.16.7-200.fc20.x86_64 root=/dev/mapper/fedora-root ro rd.lvm.lv=fedora/swap vconsole.font=latarcyrheb-sun16 rd.lvm.lv=fedora/root rd.luks.uuid=luks-XXXX rhgb quiet acpi_osi=Linux
     


Acer WMI hotkeys /devices/virtual/input/input9
Acer BMA150 accelerometer /devices/virtual/input/input10

webcam = input11 over USB

cfg80211 configuring - looks like WiFi frequencies
r8169 link down  p2p1

Broadcom something on USB 2-2.1  BCM43142A0



Lots of :: hub 1-1:1.0 hub_port_status failed (err = -110)


yum install yum-plugins-fastestmirror
yum update yum 
yum remove transmission* claws-mail* midori* pidgin* remmina* liferea* abiword* orage* parole*
yum update

yum install scite joe
yum install gimp inkscape

Add to kernel options :
/etc/default/grub 

  i8042.nopnp   # -- seems to enable touchpad again
  EXCEPT : That the touchpad has 'gone away' again...
  
  Ahah!!! 'Fn-F7' is 'touchpad on/off' key
  


  
  
xinput results : 

{% highlight bash %}
xinput
⎡ Virtual core pointer                    	id=2	[master pointer  (3)]
⎜   ↳ Virtual core XTEST pointer              	id=4	[slave  pointer  (2)]
⎜   ↳ SynPS/2 Synaptics TouchPad              	id=11	[slave  pointer  (2)]
⎣ Virtual core keyboard                   	id=3	[master keyboard (2)]
    ↳ Virtual core XTEST keyboard             	id=5	[slave  keyboard (3)]
    ↳ Power Button                            	id=6	[slave  keyboard (3)]
    ↳ Power Button                            	id=7	[slave  keyboard (3)]
    ↳ Sleep Button                            	id=8	[slave  keyboard (3)]
    ↳ HD WebCam                               	id=9	[slave  keyboard (3)]
    ↳ AT Translated Set 2 keyboard            	id=10	[slave  keyboard (3)]
    ↳ Acer WMI hotkeys                        	id=12	[slave  keyboard (3)]
{% endhighlight %}




{% highlight bash %}
yum install firefox libreoffice vlc
{% endhighlight %}





lspci results : 

{% highlight bash %}
lspci -vnn | grep Broadcom
02:00.0 Network controller [0280]: Broadcom Corporation BCM43142 802.11b/g/n [14e4:4365] (rev 01)
{% endhighlight %}


#yum search b43
#yum install b43-fwcutter  # Already installed

See : http://www.cyberciti.biz/faq/fedora-linux-install-broadcom-wl-sta-wireless-driver-for-bcm43228/
and install rpmfusion-nonfree
and then : sudo yum installkmod-wl

This works!!


skype
i686, i586 == No packages installed beforehand (so delete them all to revert)



See also : 
https://bbs.archlinux.org/viewtopic.php?pid=1443563#p1443563


Works : Get suspend working properly
  ?? add kernel opt : acpi_osi=Linux
  
  Ahah : The modesetting seems to be a major factor (NOW WORKS!)
  

Sleeping appears to put the network to sleep appropriately
And pressing key brings back 'extra blue light'.
And the SSH session is available again - but screen not showing anything
Install acpid to see whether that should be playing a role

   
  
Works : Screen brightness controls
  acpi_osi="Linux"
  >> acpi_backlight=vendor not required
  
  http://forums.linuxmint.com/viewtopic.php?f=49&t=165133&start=20
  Have a look in :  /sys/class/backlight/  to see whether there's something there...

  test buttons in XFCE keyboard thing == NO
  
  yum install acpid
  systemctl enable acpid
  systemctl start acpid
  acpi_listen 
    .. works for VolUp and VolDown (and Mute and DisplaySwitcher)
    .. and now for brightness keys

  NOT REQUIRED : yum install xbacklight
  


### Adding kernel parameters ::

{% highlight bash %}
joe /etc/default/grub 
grub2-mkconfig -o /boot/grub2/grub.cfg
{% endhighlight %}

### Extra : Start SSHd

{% highlight bash %}
systemctl start sshd
systemctl enable sshd
{% endhighlight %}


### Extra : Mount shared drive

*  Added line to ```/etc/fstab```
*  Added credentials file to ```/home/<username>/.cifs/<servername>```
*  Added hostname to ```/etc/hosts```
*  Added mountpoint to ```/mnt/<point>```
*  Added soft-link in ```/home/<username>/<mountfolder>``` to correct folder within the mounted drive


### Extra : Add IBus-Japanese-KanaKanji


### Misc output along the way

{% highlight bash %}
[    55.513] (II) LoadModule: "vbe"
[    55.513] (II) Loading /usr/lib64/xorg/modules/libvbe.so
[    55.513] (II) Module vbe: vendor="X.Org Foundation"
[    55.513] 	compiled for 1.14.4, module version = 1.1.0
[    55.513] 	ABI class: X.Org Video Driver, version 14.1
[    55.513] (II) Loading sub module "int10"
[    55.513] (II) LoadModule: "int10"
[    55.513] (II) Loading /usr/lib64/xorg/modules/libint10.so
[    55.514] (II) Module int10: vendor="X.Org Foundation"
[    55.514] 	compiled for 1.14.4, module version = 1.0.0
[    55.514] 	ABI class: X.Org Video Driver, version 14.1
[    55.514] (II) VESA(0): initializing int10
[    55.515] (II) VESA(0): Bad V_BIOS checksum
[    55.515] (II) VESA(0): Primary V_BIOS segment is: 0xc000
[    55.515] (II) VESA(0): VESA BIOS detected
[    55.515] (II) VESA(0): VESA VBE Version 3.0
[    55.515] (II) VESA(0): VESA VBE Total Mem: 63424 kB
[    55.515] (II) VESA(0): VESA VBE OEM: Intel(R) VLV Mobile/Desktop Graphics Chipset Accelerated VGA BIOS
{% endhighlight %}

{% highlight bash %}
[    57.630] (**) Acer WMI hotkeys: always reports core events
[    57.630] (**) evdev: Acer WMI hotkeys: Device: "/dev/input/event7"
[    57.630] (--) evdev: Acer WMI hotkeys: Vendor 0 Product 0
[    57.630] (--) evdev: Acer WMI hotkeys: Found keys
[    57.630] (II) evdev: Acer WMI hotkeys: Configuring as keyboard
[    57.630] (**) Option "config_info" "udev:/sys/devices/virtual/input/input16/event7"
[    57.630] (II) XINPUT: Adding extended input device "Acer WMI hotkeys" (type: KEYBOARD, id 12)
[    57.630] (**) Option "xkb_rules" "evdev"
[    57.630] (**) Option "xkb_model" "pc104"
[    57.630] (**) Option "xkb_layout" "us"
[    57.631] (II) config/udev: Adding input device Acer BMA150 accelerometer (/dev/input/event8)
[    57.631] (II) No input driver specified, ignoring this device.
[    57.631] (II) This device may have been added with another device file.
[    57.631] (II) config/udev: Adding input device Acer BMA150 accelerometer (/dev/input/js0)
[    57.631] (II) No input driver specified, ignoring this device.
[    57.631] (II) This device may have been added with another device file.
{% endhighlight %}


{% highlight bash %}
Acer hotkeys:
/sys/devices/virtual/input/input16/name 
Accelerator
/sys/devices/virtual/input/input17/name 
{% endhighlight %}

